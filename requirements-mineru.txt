# PDF-to-Markdown Extractor - MinerU Worker Dependencies
# Minimal requirements for MinerU worker only (no Docling, no API)

# ==========================================
# Async Task Queue (Celery Worker)
# ==========================================
celery==5.4.0
redis==5.2.1
kombu==5.4.2

# ==========================================
# MinerU (High precision extraction)
# ==========================================
--extra-index-url https://download.pytorch.org/whl/cpu
--extra-index-url https://myhloli.github.io/wheels/
torch  # PyTorch CPU (let pip resolve compatible version)
torchvision  # PyTorch vision
torchtext  # Required by MinerU pdf_extract_kit
magic-pdf==0.7.0b1  # MinerU base package

# ==========================================
# PDF Utilities
# ==========================================
pymupdf==1.25.2  # PDF reading
Pillow==11.0.0  # Image processing
pypdf==5.1.0  # PDF utilities

# ==========================================
# Data Validation & Processing
# ==========================================
python-magic==0.4.27  # MIME type detection
filetype==1.2.0  # File type validation

# ==========================================
# Configuration & Environment
# ==========================================
python-dotenv==1.0.1
pyyaml==6.0.2

# ==========================================
# Logging
# ==========================================
loguru==0.7.3

# ==========================================
# Pydantic (for models)
# ==========================================
pydantic==2.10.3
pydantic-settings==2.6.1

# ==========================================
# Core Dependencies
# ==========================================
psutil==7.2.0  # Resource monitoring
httpx==0.27.2  # HTTP client
aiofiles==24.1.0  # Async file operations
opencv-python-headless==4.10.0.84  # Required by MinerU (cv2)
